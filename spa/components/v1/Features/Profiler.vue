<script setup lang="ts">
import Feature from "~/components/v1/Features/Feature.vue";
import { openModal } from "jenesius-vue-modal";
import ProfilerVideo from "~/components/v1/ProfilerVideo.vue";

const { gtag } = useGtag()

const openVideo = async () => {
  gtag('event', 'open_profiler_video', {
    label: 'open_profiler_video',
    component: 'profiler',
  });

  await openModal(ProfilerVideo, {})
};
</script>

<template>
  <Feature class="bg-white relative border-0">
    <div class="feature-grid lg:pr-40">
      <svg role="img" viewBox="0 0 24 24" class="lg:hidden w-10" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd"
              d="M2.77 12.48c.3.3.3.78 0 1.07l-.15.16a.34.34 0 0 0 0 .48c.13.13.35.13.48 0l1.71-1.7a.76.76 0 0 1 1.08 1.06l-1.72 1.71a1.86 1.86 0 0 1-2.63-2.62l.16-.16c.3-.3.78-.3 1.07 0ZM7.7 13.5c.3.3.3.78 0 1.07l-2.15 2.15a.76.76 0 0 1-1.07-1.08l2.14-2.14c.3-.3.78-.3 1.08 0Zm2.8 2.8c.3.3.3.78 0 1.08L8.38 19.5a.76.76 0 0 1-1.08-1.08l2.13-2.12c.3-.3.78-.3 1.08 0Zm-3.2.4c.3.3.3.79 0 1.08l-1.73 1.7a.76.76 0 0 1-1.07-1.1l1.73-1.69c.3-.29.78-.28 1.08.02Zm4.2 1.43c.29.3.29.78-.01 1.07L9.77 20.9a.34.34 0 0 0 0 .48c.13.14.35.14.48 0l.16-.15a.76.76 0 0 1 1.07 1.07l-.16.16a1.86 1.86 0 0 1-2.62-2.63l1.7-1.71c.3-.3.78-.3 1.08 0Z"
              fill="#1C274C"/>
        <path
          d="M10.85 5.4 8.65 7.6c-.4.4-.76.77-1.05 1.1-.2.21-.38.45-.54.7l-.02-.01-.08-.08a4.18 4.18 0 0 0-1.32-.87l-.1-.04-.33-.13A.66.66 0 0 1 5 7.18c.96-.96 2.12-2.11 2.68-2.34a2.9 2.9 0 0 1 1.54-.2c.47.07.91.31 1.64.77ZM14.58 16.9a5.13 5.13 0 0 1 .77 1c.13.22.22.46.41.94.16.39.67.49.97.2l.07-.08c.97-.96 2.12-2.11 2.36-2.67.2-.5.27-1.02.2-1.53a4.4 4.4 0 0 0-.78-1.64l-2.2 2.19c-.4.4-.78.78-1.12 1.08-.2.18-.43.35-.68.5Z"
          fill="#1C274C"/>
        <path fill-rule="evenodd" clip-rule="evenodd"
              d="m15.5 14.37 5.03-5.02a5.32 5.32 0 0 0 1.28-1.54c.19-.46.19-.97.19-2v-.48c0-1.57 0-2.35-.49-2.84C21.02 2 20.23 2 18.66 2h-.5c-1.02 0-1.53 0-1.99.19-.46.19-.82.55-1.55 1.27L9.6 8.48c-.85.84-1.38 1.37-1.58 1.87-.06.16-.1.32-.1.48 0 .7.56 1.25 1.68 2.36l.14.15 1.76-1.78a.65.65 0 0 1 .92.9l-1.76 1.79.12.12c1.11 1.1 1.67 1.66 2.36 1.66.15 0 .3-.02.45-.08.51-.19 1.04-.72 1.91-1.58Zm2.37-5.9c-.66.66-1.72.66-2.37 0a1.66 1.66 0 0 1 0-2.35 1.67 1.67 0 0 1 2.37 0c.65.65.65 1.7 0 2.36Z"
              fill="#1C274C"/>
      </svg>
      <div>
        <h3 class="feature-title">Optimize Your PHP Applications performance</h3>
        <p class="feature-text">
          Introducing the Profiler Module, your go-to tool for diving deep into the performance of your PHP
          applications. Built with developers in mind, this module analyzes XHProf profiles to help you uncover and
          understand performance bottlenecks.
        </p>
      </div>
      <div class="buttons">
        <button @click="openVideo" class="video">
          <svg viewBox="0 0 28.57 20" class="w-6" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M27.97 3.12A3.58 3.58 0 0 0 25.45.6C23.22 0 14.29 0 14.29 0S5.35 0 3.12.6A3.58 3.58 0 0 0 .6 3.12C0 5.35 0 10 0 10s0 4.65.6 6.88a3.58 3.58 0 0 0 2.52 2.52c2.23.6 11.17.6 11.17.6s8.93 0 11.16-.6a3.58 3.58 0 0 0 2.52-2.52c.6-2.23.6-6.88.6-6.88s0-4.65-.6-6.88Z"
              fill="red"/>
            <path d="M11.43 14.29 18.85 10l-7.42-4.28v8.57Z" fill="#fff"/>
          </svg>
          <span>Watch video</span>
        </button>
        <a href="https://docs.buggregator.dev/config/xhprof.html" target="_blank" class="read-more-link">
          Read more
        </a>
      </div>

    </div>
    <svg class="hidden lg:block w-60 absolute bottom-0 right-0" style="margin-right: -42px"
         xmlns="http://www.w3.org/2000/svg" viewBox="0 0 404 328">
      <path d="M.5 261v66.5h332V88L227 180l-32-25-76 62-23-19L.5 261Z" fill="#E7F2F6"/>
      <path d="M96 173 0 261l96-63 23 19 76-62 32 25L392.5 40l11 11.5V0H348l12 12-135.5 134-30.5-25.5-74.5 69.5L96 173Z"
            fill="red"/>
      <path d="M96 327.5V198l23 19v110.5H96ZM195 327V155l32 25v147h-32Z" fill="#D6E8EC"/>
      <path
        d="m362.38 37.35 3.42 3.62-2.03 1.9-5.98-6.35 1.92-1.81 1.1 1.17.07-.07a2.46 2.46 0 0 1-.14-1.6c.13-.53.43-1.03.9-1.47a3 3 0 0 1 1.45-.79 2.77 2.77 0 0 1 1.55.11c.52.18 1 .51 1.45 1l3.81 4.04-2.02 1.9-3.44-3.64a1.6 1.6 0 0 0-1.05-.58c-.36-.03-.7.1-1.02.4-.22.2-.36.43-.43.68-.08.24-.08.49 0 .74.07.25.22.5.44.75ZM359.64 47a4.7 4.7 0 0 1-2.1 1.2c-.74.18-1.47.14-2.2-.1a5.05 5.05 0 0 1-2-1.36 5.02 5.02 0 0 1-1.23-2.08c-.2-.74-.2-1.47.03-2.19.22-.73.66-1.4 1.33-2.03a4.64 4.64 0 0 1 2.1-1.2 3.79 3.79 0 0 1 2.2.1c.71.25 1.38.7 2 1.35a4.99 4.99 0 0 1 1.22 2.09c.2.73.2 1.46-.02 2.19-.22.72-.66 1.4-1.33 2.02Zm-1.43-1.54c.25-.23.38-.5.41-.8.03-.32-.04-.64-.2-1-.16-.34-.4-.7-.73-1.04a3.92 3.92 0 0 0-1-.8 1.92 1.92 0 0 0-.97-.25c-.31 0-.59.12-.83.35-.25.24-.4.51-.43.83-.03.3.04.64.2.99.15.34.4.7.73 1.05.33.34.66.6 1 .8.34.17.67.25.98.24.31-.01.6-.14.84-.37ZM353.25 52.78l-5.98-6.35 2.02-1.9 5.98 6.35-2.02 1.9Zm-5.67-8.05c-.28.27-.61.4-1 .41-.38 0-.7-.13-.94-.4a1.22 1.22 0 0 1-.34-.96c.03-.39.18-.71.47-.98.28-.27.62-.4 1-.4s.7.12.94.39c.25.27.37.59.34.97-.02.38-.18.7-.47.97ZM346.24 47.4l1.4 1.49-4.01 3.77-1.4-1.49 4-3.77Zm-4.6 1.46 2.02-1.9 5.53 5.87c.12.13.23.21.34.25a.5.5 0 0 0 .33 0c.1-.05.21-.12.32-.22a2.17 2.17 0 0 0 .39-.48l1.68 1.17-.31.5c-.14.2-.32.42-.56.66-.45.47-.9.8-1.37.98-.46.18-.92.22-1.37.1-.44-.12-.86-.4-1.26-.83l-5.75-6.1ZM343.7 61.98c-.4.38-.83.65-1.27.81-.44.16-.89.18-1.33.08a2.61 2.61 0 0 1-1.25-.8c-.33-.35-.55-.7-.66-1.06-.1-.36-.12-.72-.04-1.08.07-.36.22-.7.43-1.05.2-.35.46-.69.76-1.02.33-.37.59-.68.77-.92.19-.25.3-.45.33-.62a.48.48 0 0 0-.13-.44l-.02-.02a.81.81 0 0 0-.68-.29c-.26.02-.51.15-.76.38a1.5 1.5 0 0 0-.48.78c-.05.27 0 .53.14.78l-1.93 1.69a3.03 3.03 0 0 1-.27-3.05 5 5 0 0 1 1.21-1.64c.4-.39.83-.69 1.26-.91.43-.23.86-.38 1.28-.43a2.57 2.57 0 0 1 2.27.8l4.06 4.33-1.9 1.79-.83-.89-.05.05a2.47 2.47 0 0 1-.22 1.87c-.17.3-.4.58-.7.86Zm-.62-1.91c.21-.2.37-.44.46-.69.1-.25.12-.5.08-.76a1.32 1.32 0 0 0-.36-.7l-.57-.6a5.07 5.07 0 0 1-.57.94l-.25.32c-.17.21-.28.41-.36.6-.07.2-.1.37-.07.54.02.16.1.31.23.45.2.21.42.3.68.27.25-.03.5-.16.73-.37ZM337.93 67.43a4.68 4.68 0 0 1-2.11 1.2c-.74.18-1.47.14-2.19-.1a5.03 5.03 0 0 1-2-1.36 5 5 0 0 1-1.22-2.07c-.2-.74-.2-1.47.02-2.2.22-.72.66-1.4 1.33-2.03.58-.55 1.2-.92 1.83-1.12.64-.2 1.26-.22 1.88-.07.6.16 1.17.49 1.67 1l-1.9 1.78c-.34-.3-.69-.45-1.04-.46-.35-.01-.68.11-.97.39-.23.22-.37.48-.43.78-.05.3 0 .61.14.96s.39.7.74 1.08c.35.38.7.65 1.04.82.34.16.66.23.96.2.3-.04.57-.17.8-.4a1.3 1.3 0 0 0 .41-1.28c-.05-.24-.17-.48-.35-.73l1.88-1.78c.48.54.78 1.12.9 1.74.13.62.08 1.24-.15 1.87a4.7 4.7 0 0 1-1.24 1.78ZM331.54 73.22l-5.98-6.36 2.02-1.9 5.99 6.35-2.03 1.9Zm-5.66-8.05c-.29.27-.62.4-1 .4s-.7-.13-.95-.4a1.22 1.22 0 0 1-.33-.96c.02-.38.17-.7.46-.97.29-.27.62-.4 1-.4a1.24 1.24 0 0 1 1.29 1.37c-.03.36-.19.69-.47.96ZM322.28 65.96l7.98 8.47-2.03 1.9-7.97-8.47 2.02-1.9ZM323.02 85.73 314.8 77l2-1.88 1.02 1.09.07-.06c-.1-.27-.16-.57-.18-.9-.01-.32.05-.65.18-.98a3.22 3.22 0 0 1 4.2-1.6c.7.25 1.4.75 2.1 1.5a5.8 5.8 0 0 1 1.35 2.13 3.22 3.22 0 0 1-1.8 4.15 2.48 2.48 0 0 1-1.86-.06l-.05.03 3.22 3.42-2.03 1.9Zm-3.25-7.42c.32.34.65.6.98.76.33.17.65.24.96.22.3-.03.58-.16.83-.4.24-.23.39-.5.43-.8.04-.3-.01-.62-.16-.96a3.63 3.63 0 0 0-.7-1.02 3.6 3.6 0 0 0-.98-.76 1.72 1.72 0 0 0-.94-.21c-.3.02-.58.15-.83.38-.25.24-.4.5-.44.8-.05.3 0 .62.14.96.15.34.38.68.71 1.03ZM315.57 92.75 307.35 84l2-1.89 1.02 1.1.06-.07c-.1-.27-.15-.56-.17-.89-.01-.32.05-.65.18-.99a3.22 3.22 0 0 1 4.2-1.6c.7.25 1.39.76 2.1 1.5a5.8 5.8 0 0 1 1.35 2.13 3.2 3.2 0 0 1-1.8 4.15 2.48 2.48 0 0 1-1.87-.06l-.04.04 3.22 3.41-2.03 1.9Zm-3.25-7.43c.32.34.65.6.98.77.33.16.65.23.95.21.31-.03.59-.16.83-.39.25-.23.4-.5.44-.8.04-.3-.01-.63-.16-.96a3.64 3.64 0 0 0-.7-1.03c-.33-.34-.65-.6-.98-.76a1.72 1.72 0 0 0-.94-.21c-.3.02-.58.15-.83.39-.25.23-.4.5-.44.8-.05.3 0 .62.14.95.15.34.38.68.7 1.03ZM306.17 97.1l-2.2 2.07-5.12-11.16 2.73-2.57 10.84 5.78-2.2 2.07-7.96-4.46-.07.06 3.98 8.21Zm-3.43-3.06 4.6-4.33 1.47 1.56-4.6 4.33-1.47-1.56ZM294.24 108.34l-7.98-8.48 3.5-3.3c.64-.59 1.3-.98 2-1.17.69-.19 1.37-.18 2.04.03.66.2 1.26.59 1.81 1.17.55.59.9 1.22 1.06 1.9.16.67.12 1.35-.13 2.04-.25.68-.7 1.33-1.34 1.94l-2.16 2.03-1.52-1.61 1.78-1.68c.3-.29.51-.58.62-.89.1-.3.13-.6.05-.9-.08-.3-.24-.57-.48-.83a1.86 1.86 0 0 0-.8-.53c-.29-.09-.59-.09-.9 0-.3.1-.61.29-.92.58l-1 .95 6.42 6.82-2.05 1.93ZM285.52 116.54l-7.97-8.47 2.05-1.93 3.2 3.4 3.33-3.14-3.2-3.4 2.05-1.93 7.97 8.48-2.04 1.92-3.2-3.4-3.34 3.14 3.2 3.4-2.05 1.93ZM277.92 123.7l-7.97-8.48 3.5-3.3a4.7 4.7 0 0 1 1.99-1.17c.7-.19 1.38-.18 2.04.02.66.2 1.27.6 1.82 1.18s.9 1.22 1.06 1.9c.15.67.11 1.35-.13 2.04-.25.68-.7 1.33-1.35 1.94l-2.15 2.03-1.52-1.61 1.78-1.68c.3-.29.51-.59.62-.89.1-.3.12-.6.05-.9-.08-.3-.24-.57-.48-.83a1.86 1.86 0 0 0-.8-.53c-.3-.09-.6-.09-.9 0-.3.1-.62.29-.92.57l-1.01.95 6.42 6.83-2.05 1.92Z"
        fill="#fff"/>
    </svg>
  </Feature>
</template>

<style scoped lang="scss">
.hero {
  @apply flex flex-col items-center bg-white -mt-24 rounded-xl shadow-2xl py-16;
}

.title {
  @apply mt-8 text-3xl sm:text-4xl lg:text-5xl leading-none font-extrabold tracking-tight mb-4 text-center;
}

.text {
  @apply text-lg text-gray-500 mb-10 sm:mb-11 text-center w-2/3;
}

.buttons {
  @apply flex flex-col sm:flex-row items-center gap-6 lg:justify-start;

  .video {
    @apply flex items-center gap-x-4;
    @apply px-4 py-2;
    @apply bg-gray-800 hover:bg-gray-700;
    @apply rounded-full shadow-sm;
    @apply focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white;
    @apply font-semibold text-white;
  }
}
</style>